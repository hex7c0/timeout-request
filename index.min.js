"use strict";function wrapper(a,b){var c;return c=b?a.header?function(b,c){var d=c.finished||c.socket&&c.socket.writable===!1;return d===!1?a.callback(b,c,a.data):null}:function(b,c){return a.callback(b,c,a.data)}:a.header?function(a,b){var c=b.finished||b.socket&&b.socket.writable===!1;return c===!1?a.socket.destroy():null}:function(a){return a.socket.destroy()},function(b,d,e){return setTimeout(c.bind(this,b,d),a.milliseconds),e()}}function timeout(a){var b=a||Object.create(null),c={milliseconds:Number(b.milliseconds)||5e3,header:Boolean(b.header)};return b.callback&&"function"==typeof b.callback?(c.callback=b.callback,c.data=b.data,wrapper(c,!0)):wrapper(c,!1)}module.exports=timeout;
