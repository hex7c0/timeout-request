/*
 * timeout-request v1.1.3
 * (c) hex7c0 http://supergiovane.tk/#/timeout-request
 * Licensed under GPLv3
 */
"use strict";function end(a){return a?a():void 0}function wrapper(a){var b,c=a;return a.callback?function(a,d,e){function f(){a.emit("emit",a,d);{if(!g.header)return g.callback(g.data);if(!d._headerSent)return g.callback(g.data)}}var g=c;return g.clear&&clearTimeout(b),b=setTimeout(f,g.milliseconds),end(e)}:function(a,d,e){function f(){return a.emit("emit",a,d),g.header?(d._headerSent||d.end(),void(d.end=function(){})):(d.end(),void(d.end=function(){}))}var g=c;return g.clear&&clearTimeout(b),b=setTimeout(f,g.milliseconds),end(e)}}module.exports=function(a){var a=a||Object.create(null),b={milliseconds:Number(a.milliseconds)||2e3,header:Boolean(a.header),clear:0==a.clear?!1:!0};return a.callback?(b.callback=a.callback,b.data=a.data,wrapper(b,!0)):wrapper(b,!1)};
