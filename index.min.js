"use strict";function wrapper(a,b){var c;return b?function(b,d,e){function f(){b.emit("emit",b,d);{if(!a.header)return a.callback(b,d,a.data);if(!d._headerSent)return a.callback(b,d,a.data)}}return a.clear&&clearTimeout(c),c=setTimeout(f,a.milliseconds),e?e():null}:function(b,d,e){function f(){return b.emit("emit",b,d),a.header?(d._headerSent||d.end(),void(d.end=function(){})):(d.end(),void(d.end=function(){}))}return a.clear&&clearTimeout(c),c=setTimeout(f,a.milliseconds),e?e():null}}function timeout(a){var b=a||Object.create(null),c={milliseconds:Number(b.milliseconds)||2e3,header:Boolean(b.header),clear:b.clear===!1?!1:!0};return b.callback?(c.callback=b.callback,c.data=b.data,wrapper(c,!0)):wrapper(c,!1)}module.exports=timeout;
